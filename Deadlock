/******************************************************************************

Welcome to GDB Online.
  GDB online is an online compiler and debugger tool for C, C++, Python, PHP, Ruby, 
  C#, OCaml, VB, Perl, Swift, Prolog, Javascript, Pascal, COBOL, HTML, CSS, JS
  Code, Compile, Run and Debug online from anywhere in world.

*******************************************************************************/
#include <stdio.h>
#include <bits/stdc++.h>

using namespace std;

mutex m1;
mutex m2;

void fun1()
{
    m1.lock();
    this_thread::sleep_for(chrono::seconds(2));
    m2.lock();
    cout<<"Inside fun1 for thread 1"<<endl;
    m1.unlock();
    m2.unlock();
}

void fun2()
{
    m2.lock();
    this_thread::sleep_for(chrono::seconds(2));
    m1.lock();
    cout<<"Inside fun2 for thread 2"<<endl;
    m1.unlock();
    m2.unlock();
}

int main()
{
    thread th1(fun1);
    thread th2(fun2);
    
    th1.join();
    th2.join();

    return 0;
}
